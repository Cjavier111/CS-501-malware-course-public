CC=gcc
CXX=g++


ifeq ($(OS),Windows_NT)
	RM=powershell /c rm
else	
	RM=rm
endif

all: base64.exe aestest.exe http.exe 


.PHONY: all clean 

base64.exe:
	$(CXX) -Wall base64/base64.cpp   -lcrypt32  -static   -o bin/base64.exe 

aestest.exe:
	$(CXX) -Wall aesgcm/aesgcm.cpp  aesgcm/test_aesgcm.cpp  -lcrypt32 -lbcrypt -static  -o bin/aesgcm.exe

http.exe:
	$(CXX) -Wall http/http.cpp -lwinhttp -static   -o bin/http.exe

submission.zip:
	zip -r submission.zip base64 http aesgcm 

clean:
	$(RM)  bin/*.exe 

