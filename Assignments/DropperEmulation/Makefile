CC=gcc

LDFLAGS="YOUR FLAGS HERE"

URL_0="\"http://localhost/evil.exe\""
URL_1="\"http://localhost/evil.exe\""

EXAMPLE="\"http://localhost/evil.exe\""


ifeq ($(OS),Windows_NT)
    RM = powershell /c rm
else
    RM = rm -f
    RRM = rm -f -r
endif


all: bin binary0.exe binary1.exe

.PHONY: clean example 

clean:
	-$(RM) bin/*
	-$(RM) submission.zip
	-$(RM) bin.zip

bin:
	mkdir bin

example:
	$(CC) -DEXAMPLE=$(EXAMPLE) example.c -o bin/example.exe 

binary0.exe:
	$(CC) -Wall -DC2_URL=$(URL_0) binary0.c  $(LDFLAGS) bin/binary0.exe

binary1.exe:
	$(CC) -Wall -DC2_URL=$(URL_1) binary1.c  $(LDFLAGS)  bin/binary1.exe


submission:
	zip -r submission.zip Makefile binary0.c binary1.c
